name             = Mail-DMARC
author           = Matt Simerson <msimerson@cpan.org>
author           = Davide Migliavacca <shari@cpan.org>
license          = Perl_5
copyright_holder = The Network People, Inc.
copyright_year   = 2013
is_trial         = 0

;[@Basic] - GatherDir, MetaYAML, MakeMaker, Manifest, PruneCruft, License, Readme, ExtraTests
[GatherDir]
[MetaYAML]
[MakeMaker]
[Manifest]
[PruneCruft]
[License]
[Readme]
[ExtraTests]
[ModuleBuild]

[PruneFiles]
filename = dmarc_reports.sqlite
filename = t/reports-test.sqlite

; VERSION providers
[AutoVersion]
format = 0.{{ cldr('yyyyMMdd') }}
;[Git::NextVersion]  <- worth considering

;[ContributorsFromGit]  <- doesn't work for me (yet)

; adds our $VERSION to modules
[PkgVersion]
; PodWeaver: adds NAME, VERSION, AUTHORS, and COPYRIGHT to each module
[PodWeaver]

[PodCoverageTests]
[PodSyntaxTests]
[Test::Perl::Critic]
critic_config = t/perlcritic.rc
;[Test::Kwalitee]
[Test::Kwalitee::Extra]

[NextRelease]
format = %-9v %{yyyy-MM-dd VVVV}d
[TestRelease]
[ConfirmRelease]
[UploadToCPAN]

[MetaResources]
homepage          = https://github.com/msimerson/mail-dmarc/wiki
bugtracker.web    = https://github.com/msimerson/mail-dmarc/issues
repository.url    = git://github.com/msimerson/mail-dmarc.git
repository.web    = https://github.com/msimerson/mail-dmarc
repository.type   = git

;[PrePAN]
;author = http://prepan.org/user/msimerson@github
;module = http://prepan.org/module/nXWJ8Y9sBnG

; [@Git] - Git::Check, Commit, Tag, Push
[Git::Check]
[Git::Commit]
[Git::Tag]
[Git::Push]
tag_format = mail-dmarc-%v
;push_to    = origin
allow_dirty = [ 'Mail-DMARC-*', '.gitignore', 't/reports-test.sqlite' ]

[AutoPrereqs]
; the are optional fallbacks, if MIME::Lite isn't installed or fails
skip = ail::Send$
skip = ^MIME::Lite$

[Prereqs]
perl                   = 5.008
Regexp::Common         = 2013031301
Config::Tiny           = 0
File::ShareDir         = 0
Net::DNS::Resolver     = 0
Net::IP                = 0
Socket6                = 0.23

; these prereqs are used for the Reporting features
[Prereqs / RuntimeRecommends]
DBD::SQLite               = 1.31
;DBD::mysql               = 4
DBIx::Simple              = 0
Email::MIME               = 0
IO::Compress::Gzip        = 0
IO::Compress::Zip         = 0
;Mail::Mbox::MessageParser = 0  ; breaks Travis test builds
Net::IMAP::Simple         = 0
Net::SMTPS                = 0
XML::LibXML               = 0

; TODO: neither the FileFinder nor the skip work for ExecDir. I would rather
; not install bin/install_deps.pl
[FileFinder::ByName / MyBin]
dir   = bin
file  = dmarc_*
skip  = install_deps

[ExecDir]
finder = MyBin
skip = install_deps

[ShareDir]
